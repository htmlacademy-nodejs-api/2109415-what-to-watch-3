{"ast":null,"code":"var _jsxFileName = \"/Users/ivanmerkulov/Documents/GitHub/2109415-what-to-watch-3/frontend/src/components/tab-reviews/tab-reviews.tsx\",\n  _s = $RefreshSig$();\nimport { useEffect } from 'react';\nimport Spinner from '../spinner/spinner';\nimport { getReviews, getIsLoading } from '../../store/reviews-data/selectors';\nimport { fetchReviews } from '../../store/api-actions';\nimport { useAppSelector, useAppDispatch } from '../../hooks/';\nimport { formatReviewDate } from '../../util';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction TabReviews(_ref) {\n  _s();\n  let {\n    id\n  } = _ref;\n  const dispatch = useAppDispatch();\n  const reviews = useAppSelector(getReviews);\n  const isLoading = useAppSelector(getIsLoading);\n  useEffect(() => {\n    dispatch(fetchReviews(id));\n  }, [dispatch, id]);\n  if (isLoading) {\n    return /*#__PURE__*/_jsxDEV(Spinner, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 22,\n      columnNumber: 12\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"film-card__reviews film-card__row\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"film-card__reviews-col\",\n      children: reviews.map(_ref2 => {\n        let {\n          comment,\n          user,\n          date,\n          rating,\n          id: reviewId\n        } = _ref2;\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"review\",\n          children: [/*#__PURE__*/_jsxDEV(\"blockquote\", {\n            className: \"review__quote\",\n            children: [/*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"review__text\",\n              children: comment\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 31,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"footer\", {\n              className: \"review__details\",\n              children: [/*#__PURE__*/_jsxDEV(\"cite\", {\n                className: \"review__author\",\n                children: user.name\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 34,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"time\", {\n                className: \"review__date\",\n                dateTime: date,\n                children: formatReviewDate(date)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 35,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 33,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 30,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"review__rating\",\n            children: rating\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 41,\n            columnNumber: 13\n          }, this)]\n        }, reviewId, true, {\n          fileName: _jsxFileName,\n          lineNumber: 29,\n          columnNumber: 11\n        }, this);\n      })\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 27,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 26,\n    columnNumber: 5\n  }, this);\n}\n_s(TabReviews, \"0mLqk7uCSbBqjta5INj+uh8VweQ=\", false, function () {\n  return [useAppDispatch, useAppSelector, useAppSelector];\n});\n_c = TabReviews;\nexport default TabReviews;\nvar _c;\n$RefreshReg$(_c, \"TabReviews\");","map":{"version":3,"names":["useEffect","Spinner","getReviews","getIsLoading","fetchReviews","useAppSelector","useAppDispatch","formatReviewDate","TabReviews","id","dispatch","reviews","isLoading","map","comment","user","date","rating","reviewId","name"],"sources":["/Users/ivanmerkulov/Documents/GitHub/2109415-what-to-watch-3/frontend/src/components/tab-reviews/tab-reviews.tsx"],"sourcesContent":["import { useEffect } from 'react';\nimport Spinner from '../spinner/spinner';\nimport { getReviews, getIsLoading } from '../../store/reviews-data/selectors';\nimport { fetchReviews } from '../../store/api-actions';\nimport { useAppSelector, useAppDispatch } from '../../hooks/';\nimport { formatReviewDate } from '../../util';\n\ntype TabReviewsProps = {\n  id: string;\n};\n\nfunction TabReviews({ id }: TabReviewsProps) {\n  const dispatch = useAppDispatch();\n  const reviews = useAppSelector(getReviews);\n  const isLoading = useAppSelector(getIsLoading);\n\n  useEffect(() => {\n    dispatch(fetchReviews(id));\n  }, [dispatch, id]);\n\n  if (isLoading) {\n    return <Spinner />;\n  }\n\n  return (\n    <div className=\"film-card__reviews film-card__row\">\n      <div className=\"film-card__reviews-col\">\n        {reviews.map(({ comment, user, date, rating, id: reviewId }) => (\n          <div key={reviewId} className=\"review\">\n            <blockquote className=\"review__quote\">\n              <p className=\"review__text\">{comment}</p>\n\n              <footer className=\"review__details\">\n                <cite className=\"review__author\">{user.name}</cite>\n                <time className=\"review__date\" dateTime={date}>\n                  {formatReviewDate(date)}\n                </time>\n              </footer>\n            </blockquote>\n\n            <div className=\"review__rating\">{rating}</div>\n          </div>\n        ))}\n      </div>\n    </div>\n  );\n}\n\nexport default TabReviews;\n"],"mappings":";;AAAA,SAASA,SAAS,QAAQ,OAAO;AACjC,OAAOC,OAAO,MAAM,oBAAoB;AACxC,SAASC,UAAU,EAAEC,YAAY,QAAQ,oCAAoC;AAC7E,SAASC,YAAY,QAAQ,yBAAyB;AACtD,SAASC,cAAc,EAAEC,cAAc,QAAQ,cAAc;AAC7D,SAASC,gBAAgB,QAAQ,YAAY;AAAC;AAM9C,SAASC,UAAU,OAA0B;EAAA;EAAA,IAAzB;IAAEC;EAAoB,CAAC;EACzC,MAAMC,QAAQ,GAAGJ,cAAc,EAAE;EACjC,MAAMK,OAAO,GAAGN,cAAc,CAACH,UAAU,CAAC;EAC1C,MAAMU,SAAS,GAAGP,cAAc,CAACF,YAAY,CAAC;EAE9CH,SAAS,CAAC,MAAM;IACdU,QAAQ,CAACN,YAAY,CAACK,EAAE,CAAC,CAAC;EAC5B,CAAC,EAAE,CAACC,QAAQ,EAAED,EAAE,CAAC,CAAC;EAElB,IAAIG,SAAS,EAAE;IACb,oBAAO,QAAC,OAAO;MAAA;MAAA;MAAA;IAAA,QAAG;EACpB;EAEA,oBACE;IAAK,SAAS,EAAC,mCAAmC;IAAA,uBAChD;MAAK,SAAS,EAAC,wBAAwB;MAAA,UACpCD,OAAO,CAACE,GAAG,CAAC;QAAA,IAAC;UAAEC,OAAO;UAAEC,IAAI;UAAEC,IAAI;UAAEC,MAAM;UAAER,EAAE,EAAES;QAAS,CAAC;QAAA,oBACzD;UAAoB,SAAS,EAAC,QAAQ;UAAA,wBACpC;YAAY,SAAS,EAAC,eAAe;YAAA,wBACnC;cAAG,SAAS,EAAC,cAAc;cAAA,UAAEJ;YAAO;cAAA;cAAA;cAAA;YAAA,QAAK,eAEzC;cAAQ,SAAS,EAAC,iBAAiB;cAAA,wBACjC;gBAAM,SAAS,EAAC,gBAAgB;gBAAA,UAAEC,IAAI,CAACI;cAAI;gBAAA;gBAAA;gBAAA;cAAA,QAAQ,eACnD;gBAAM,SAAS,EAAC,cAAc;gBAAC,QAAQ,EAAEH,IAAK;gBAAA,UAC3CT,gBAAgB,CAACS,IAAI;cAAC;gBAAA;gBAAA;gBAAA;cAAA,QAClB;YAAA;cAAA;cAAA;cAAA;YAAA,QACA;UAAA;YAAA;YAAA;YAAA;UAAA,QACE,eAEb;YAAK,SAAS,EAAC,gBAAgB;YAAA,UAAEC;UAAM;YAAA;YAAA;YAAA;UAAA,QAAO;QAAA,GAZtCC,QAAQ;UAAA;UAAA;UAAA;QAAA,QAaZ;MAAA,CACP;IAAC;MAAA;MAAA;MAAA;IAAA;EACE;IAAA;IAAA;IAAA;EAAA,QACF;AAEV;AAAC,GAnCQV,UAAU;EAAA,QACAF,cAAc,EACfD,cAAc,EACZA,cAAc;AAAA;AAAA,KAHzBG,UAAU;AAqCnB,eAAeA,UAAU;AAAC;AAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}