{"ast":null,"code":"var _jsxFileName = \"/Users/ivanmerkulov/Documents/GitHub/2109415-what-to-watch-3/frontend/src/components/film-card/film-card.tsx\",\n  _s = $RefreshSig$();\nimport { useState, useEffect } from 'react';\nimport { Link } from 'react-router-dom';\nimport { AppRoute } from '../../const';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nfunction FilmCard(_ref) {\n  _s();\n  let {\n    film,\n    withVideo\n  } = _ref;\n  const [isHovered, setIsHovered] = useState(false);\n  const [isPlaying, setIsPlaying] = useState(false);\n  const {\n    name,\n    posterImage,\n    id,\n    previewVideoLink\n  } = film;\n  useEffect(() => {\n    let timer;\n    if (isHovered) {\n      timer = setTimeout(() => {\n        setIsPlaying(true);\n      }, 1000);\n    } else {\n      setIsPlaying(false);\n    }\n    return () => clearTimeout(timer);\n  }, [isHovered]);\n  return /*#__PURE__*/_jsxDEV(\"article\", {\n    className: \"small-film-card catalog__films-card\",\n    onMouseEnter: () => setIsHovered(true),\n    onMouseLeave: () => setIsHovered(false),\n    children: withVideo && isPlaying ? /*#__PURE__*/_jsxDEV(Link, {\n      to: `${AppRoute.Film}/${id}`,\n      children: /*#__PURE__*/_jsxDEV(\"video\", {\n        src: previewVideoLink,\n        loop: true,\n        autoPlay: true,\n        muted: true,\n        width: \"280\",\n        height: \"175\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 36,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 35,\n      columnNumber: 9\n    }, this) : /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(Link, {\n        to: `${AppRoute.Film}/${id}`,\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"small-film-card__image\",\n          children: /*#__PURE__*/_jsxDEV(\"img\", {\n            src: posterImage,\n            alt: name\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 42,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 41,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 40,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n        className: \"small-film-card__title\",\n        children: /*#__PURE__*/_jsxDEV(Link, {\n          className: \"small-film-card__link\",\n          to: `${AppRoute.Film}/${id}`,\n          children: name\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 46,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 29,\n    columnNumber: 5\n  }, this);\n}\n_s(FilmCard, \"1TRnzQDMB69wT6drXJUjz6i2VtI=\");\n_c = FilmCard;\nexport default FilmCard;\nvar _c;\n$RefreshReg$(_c, \"FilmCard\");","map":{"version":3,"names":["useState","useEffect","Link","AppRoute","FilmCard","film","withVideo","isHovered","setIsHovered","isPlaying","setIsPlaying","name","posterImage","id","previewVideoLink","timer","setTimeout","clearTimeout","Film"],"sources":["/Users/ivanmerkulov/Documents/GitHub/2109415-what-to-watch-3/frontend/src/components/film-card/film-card.tsx"],"sourcesContent":["import { useState, useEffect } from 'react';\nimport { Link } from 'react-router-dom';\nimport { AppRoute } from '../../const';\nimport { Film } from '../../types/film';\n\ntype FilmCardProps = {\n  film: Film;\n  withVideo: boolean;\n};\n\nfunction FilmCard({ film, withVideo }: FilmCardProps) {\n  const [isHovered, setIsHovered] = useState<boolean>(false);\n  const [isPlaying, setIsPlaying] = useState<boolean>(false);\n  const { name, posterImage, id, previewVideoLink } = film;\n\n  useEffect(() => {\n    let timer: ReturnType<typeof setTimeout>;\n    if (isHovered) {\n      timer = setTimeout(() => {\n        setIsPlaying(true);\n      }, 1000);\n    } else {\n      setIsPlaying(false);\n    }\n    return () => clearTimeout(timer);\n  }, [isHovered]);\n\n  return (\n    <article\n      className=\"small-film-card catalog__films-card\"\n      onMouseEnter={() => setIsHovered(true)}\n      onMouseLeave={() => setIsHovered(false)}\n    >\n      {withVideo && isPlaying ? (\n        <Link to={`${AppRoute.Film}/${id}`}>\n          <video src={previewVideoLink} loop autoPlay muted width=\"280\" height=\"175\" />\n        </Link>\n      ) : (\n        <>\n          <Link to={`${AppRoute.Film}/${id}`}>\n            <div className=\"small-film-card__image\">\n              <img src={posterImage} alt={name} />\n            </div>\n          </Link>\n          <h3 className=\"small-film-card__title\">\n            <Link\n              className=\"small-film-card__link\"\n              to={`${AppRoute.Film}/${id}`}\n            >\n              {name}\n            </Link>\n          </h3>\n        </>\n      )}\n    </article>\n  );\n}\n\nexport default FilmCard;\n"],"mappings":";;AAAA,SAASA,QAAQ,EAAEC,SAAS,QAAQ,OAAO;AAC3C,SAASC,IAAI,QAAQ,kBAAkB;AACvC,SAASC,QAAQ,QAAQ,aAAa;AAAC;AAAA;AAQvC,SAASC,QAAQ,OAAqC;EAAA;EAAA,IAApC;IAAEC,IAAI;IAAEC;EAAyB,CAAC;EAClD,MAAM,CAACC,SAAS,EAAEC,YAAY,CAAC,GAAGR,QAAQ,CAAU,KAAK,CAAC;EAC1D,MAAM,CAACS,SAAS,EAAEC,YAAY,CAAC,GAAGV,QAAQ,CAAU,KAAK,CAAC;EAC1D,MAAM;IAAEW,IAAI;IAAEC,WAAW;IAAEC,EAAE;IAAEC;EAAiB,CAAC,GAAGT,IAAI;EAExDJ,SAAS,CAAC,MAAM;IACd,IAAIc,KAAoC;IACxC,IAAIR,SAAS,EAAE;MACbQ,KAAK,GAAGC,UAAU,CAAC,MAAM;QACvBN,YAAY,CAAC,IAAI,CAAC;MACpB,CAAC,EAAE,IAAI,CAAC;IACV,CAAC,MAAM;MACLA,YAAY,CAAC,KAAK,CAAC;IACrB;IACA,OAAO,MAAMO,YAAY,CAACF,KAAK,CAAC;EAClC,CAAC,EAAE,CAACR,SAAS,CAAC,CAAC;EAEf,oBACE;IACE,SAAS,EAAC,qCAAqC;IAC/C,YAAY,EAAE,MAAMC,YAAY,CAAC,IAAI,CAAE;IACvC,YAAY,EAAE,MAAMA,YAAY,CAAC,KAAK,CAAE;IAAA,UAEvCF,SAAS,IAAIG,SAAS,gBACrB,QAAC,IAAI;MAAC,EAAE,EAAG,GAAEN,QAAQ,CAACe,IAAK,IAAGL,EAAG,EAAE;MAAA,uBACjC;QAAO,GAAG,EAAEC,gBAAiB;QAAC,IAAI;QAAC,QAAQ;QAAC,KAAK;QAAC,KAAK,EAAC,KAAK;QAAC,MAAM,EAAC;MAAK;QAAA;QAAA;QAAA;MAAA;IAAG;MAAA;MAAA;MAAA;IAAA,QACxE,gBAEP;MAAA,wBACE,QAAC,IAAI;QAAC,EAAE,EAAG,GAAEX,QAAQ,CAACe,IAAK,IAAGL,EAAG,EAAE;QAAA,uBACjC;UAAK,SAAS,EAAC,wBAAwB;UAAA,uBACrC;YAAK,GAAG,EAAED,WAAY;YAAC,GAAG,EAAED;UAAK;YAAA;YAAA;YAAA;UAAA;QAAG;UAAA;UAAA;UAAA;QAAA;MAChC;QAAA;QAAA;QAAA;MAAA,QACD,eACP;QAAI,SAAS,EAAC,wBAAwB;QAAA,uBACpC,QAAC,IAAI;UACH,SAAS,EAAC,uBAAuB;UACjC,EAAE,EAAG,GAAER,QAAQ,CAACe,IAAK,IAAGL,EAAG,EAAE;UAAA,UAE5BF;QAAI;UAAA;UAAA;UAAA;QAAA;MACA;QAAA;QAAA;QAAA;MAAA,QACJ;IAAA;EAER;IAAA;IAAA;IAAA;EAAA,QACO;AAEd;AAAC,GA9CQP,QAAQ;AAAA,KAARA,QAAQ;AAgDjB,eAAeA,QAAQ;AAAC;AAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}